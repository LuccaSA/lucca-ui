<div class="lui input">
	<ui-select ng-model="$parent.selectedUser"
			   ng-disabled="controlDisabled"
			   search-enabled="true"
			   on-select="onSelectedUserChanged($select.selected);"
			   on-remove="onRemove()"
			   class="lui ui-select-container">
		<ui-select-match placeholder="{{placeholder}}" allow-clear="true">{{$select.selected.firstName}} {{$select.selected.lastName}}</ui-select-match>
		<ui-select-choices repeat="user in users | filter:$select.search">
			<div ng-if="user.id === myId" class="selected-first"
				 ng-bind-html="user.lastName + ' ' + user.firstName | luifHighlight : $select.search : user.info : 'LUIDUSERPICKER_ME'">
			</div>
			<div ng-if="user.id !== myId" ng-bind-html="user.lastName + ' ' + user.firstName | luifHighlight : $select.search : user.info"></div>
			<div ng-if="user.hasLeft">
				<small translate translate-values="{dtContractEnd:user.dtContractEnd}">LUIDUSERPICKER_FORMEREMPLOYEE</small>
			</div>
			<div ng-if="user.hasHomonyms" ng-repeat="property in user.additionalProperties">
				<small>
					<i class="lui icon {{property.icon}}"></i>
					<b data-ng-bind-html="property.translationKey | translate"></b>
					<span data-ng-bind-html="property.value"></span>
				</small>
			</div>
		</ui-select-choices>
	</ui-select>
</div>