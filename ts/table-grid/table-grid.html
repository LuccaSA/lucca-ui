<div class="lui tablegrid">
	<header class="header">
		<div class="locked columns">
			<table>
				<colgroup>
					<col ng-repeat="header in colDefinition track by $index" ng-style="{'width': header.width + 'em'}"></col>
				</colgroup>
				<thead>
					<tr	role="row"
					ng-repeat="row in headerRows track by $index"
					ng-if="$index !== 0">
						<th role="columnheader"
						class="sortable"
						ng-class="{'locked': header.fixed, 'desc': (selected.orderBy === header && selected.reverse === false), 'asc': (selected.orderBy === header && selected.reverse === true)}"
						ng-repeat="header in row track by $index"
						rowspan="{{ header.rowspan }}"
						colspan="{{ header.colspan }}"
						ng-click="updateOrderBy(header)">{{ header.label }}</th>
					</tr>
					<tr role="row">
						<th role="columnheader"
						ng-repeat="header in colDefinition track by $index"
						ng-if="header.filterable"
						colspan="1"
						rowspan="1"
						class="filtering"
						ng-class="{'locked': header.fixed}">
							<div class="lui fitting search input">
								<input type="text" ng-change="updateFilterBy(header, $index)" ng-model="leftFilters[$index].value" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }">
							</div>
						</th>
					</tr>
				</thead>
			</table>
		</div>

		<div class="scrollable columns" ng-style="{'margin-left': headerLockedWidth + 'em'}">
			<table>
				<colgroup>
					<col ng-if="header.fixed" ng-repeat="header in colDefinition track by $index" style="width: 0;"></col>
					<col ng-if="!header.fixed" ng-repeat="header in colDefinition track by $index" ng-style="{'width': header.width + 'em'}"></col>
				</colgroup>
				<thead>
					<tr	role="row"
					ng-repeat="row in headerRows track by $index"
					ng-if="$index !== 0">
						<th role="columnheader"
						class="sortable"
						ng-class="{'locked': header.fixed, 'desc': (selected.orderBy === header && selected.reverse === false), 'asc': (selected.orderBy === header && selected.reverse === true)}"
						ng-repeat="header in row track by $index"
						rowspan="{{ header.rowspan }}"
						colspan="{{ header.colspan }}"
						ng-click="updateOrderBy(header)">{{ header.label }}</th>
					</tr>
					<tr role="row">
						<th role="columnheader"
						ng-repeat="header in colDefinition track by $index"
						ng-if="header.filterable"
						colspan="1"
						rowspan="1"
						class="filtering">
							<div class="lui fitting search input">
								<input type="text" ng-change="updateFilterBy(header, $index)" ng-model="leftFilters[$index].value" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }">
							</div>
						</th>
					</tr>
				</thead>
			</table>
		</div>
	</header>

	<section class="body">
		<div class="locked columns" style="max-height: 500px" >
			<div class="virtualscroll" ng-style="canvasHeight">
				<table>
					<colgroup>
						<col ng-repeat="header in colDefinition track by $index" ng-style="{'width': header.width + 'em'}"></col>
					</colgroup>
					<tbody>
						<tr role="row" ng-repeat="row in visibleRows" ng-style="row.styles">
							<td role="cell"
							ng-repeat="cell in colDefinition track by $index"
							ng-bind-html="cell.getValue(row)"
							ng-class="{'locked': cell.fixed, 'lui left aligned': cell.textAlign == 'left', 'lui right aligned': cell.textAlign == 'right', 'lui center aligned': cell.textAlign == 'center'}"></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<div class="scrollable columns" style="max-height: 500px" ng-style="{'margin-left': headerLockedWidth + 'em'}">
			<div class="virtualscroll" ng-style="canvasHeight">
				<table>
					<colgroup>
						<col ng-if="header.fixed" ng-repeat="header in colDefinition track by $index" style="width: 0;"></col>
						<col ng-if="!header.fixed" ng-repeat="header in colDefinition track by $index" ng-style="{'width': header.width + 'em'}"></col>
					</colgroup>
					<tbody>
						<tr role="row" ng-repeat="row in visibleRows" ng-style="row.styles">
							<td role="cell"
							ng-repeat="cell in colDefinition track by $index"
							ng-bind-html="cell.getValue(row)"
							ng-class="{'locked': cell.fixed, 'lui left aligned': cell.textAlign == 'left', 'lui right aligned': cell.textAlign == 'right', 'lui center aligned': cell.textAlign == 'center'}"></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</section>
</div>
