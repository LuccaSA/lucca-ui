<table>
	<thead>
		<tr role="row" ng-repeat="row in ::headerRows track by $index" ng-if="$index !== 0">
			<th ng-if="isSelectable" style="width: 3.5em" class="locked" role="columnheader" colspan="1" rowspan="1"></th>
			<th role="columnheader" class="sortable" ng-repeat="header in ::row track by $index" ng-click="updateOrderedRows(header.position)" ng-class="{'locked': header.fixed, 'desc': (columnSelected.orderByColumnIndex === header.position && columnSelected.reverse === false), 'asc': (columnSelected.orderByColumnIndex === header.position && columnSelected.reverse === true)}"
			ng-style="{'max-width': header.width + 'em', 'min-width': header.width + 'em'}" rowspan="{{ header.rowspan }}" colspan="{{ header.colspan }}">{{ header.label }}</th>
		</tr>
		<tr role="row">
			<th ng-if="isSelectable" style="width: 3.5em" class="locked" role="columnheader" colspan="1" rowspan="1">
				<div class="lui solo checkbox input">
					<input ng-class="masterCheckBoxCssClass" type="checkbox" ng-model="allChecked.value" ng-change="onMasterCheckBoxChange()" ng-value="true"
					/>
					<label>&nbsp;</label>
				</div>
			</th>
			<th role="columnheader" ng-repeat="header in ::columnDefinitions track by $index" ng-style="{'max-width': header.width + 'em', 'min-width': header.width + 'em'}"
				ng-if="::header.filterType != FilterTypeEnum.NONE" colspan="1" rowspan="1" class="filtering">
				<div class="lui fitting searchable input" ng-if="::header.filterType === FilterTypeEnum.TEXT">
					<input type="text" ng-change="updateFilteredRows()" ng-model="filters[$index].currentValues[0]" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }">
				</div>
				<div class="lui fitting input">
					<ui-select multiple ng-model="filters[$index].currentValues" reset-search-input="true" on-remove="updateFilteredRows()" ng-if="header.filterType === FilterTypeEnum.MULTISELECT && filters[$index].selectValues.length > 1"
					on-select="updateFilteredRows()">
						<ui-select-match placeholder="{{ 'SELECT_ITEMS' | translate }}">{{ $item }}</ui-select-match>
						<ui-select-choices repeat="value in filters[$index].selectValues | filter: $select.search"><span ng-bind-html="value"></span></ui-select-choices>
					</ui-select>
				</div>
				<div class="lui fitting input">
					<ui-select ng-model="filters[$index].currentValues[0]" reset-search-input="true" on-select="updateFilteredRows()" allow-clear ng-if="header.filterType === FilterTypeEnum.SELECT && filters[$index].selectValues.length > 1">
						<ui-select-match allow-clear="true" placeholder="{{ 'SELECT_ITEM' | translate }}">{{ $select.selected }}</ui-select-match>
						<ui-select-choices repeat="value in filters[$index].selectValues | filter: $select.search"><span ng-bind-html="value"></span></ui-select-choices>
					</ui-select>
				</div>
			</th>
		</tr>
	</thead>

	<tbody>
		<tr role="row" ng-repeat="row in visibleRows">
			<td role="cell" ng-repeat="dataCell in row track by $index" ng-style="{'max-width': dataCell.width + 'em', 'min-width': dataCell.width + 'em'}"
				ng-bind-html="dataCell.value" rowspan="{{dataCell.rowspan}}"
				ng-class="{'locked': dataCell.fixed, 'lui left aligned': dataCell.textAlign == 'left', 'lui right aligned': dataCell.textAlign == 'right', 'lui center aligned': dataCell.textAlign == 'center'}"></td>
		</tr>
	</tbody>
</table>
