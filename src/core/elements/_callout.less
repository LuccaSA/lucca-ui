
/**
 * Callout
 * --------------------------------------------------------------------------- */

.lui.callout {
    display: block;
    overflow: hidden;
    // Default style
    .lui.side-border;
    margin: @v-margin @h-margin;
    border: 1px solid @border-color;
    background: @background;
    padding: @v-padding @h-padding;

    // Content paragraphs
    // =====
    p:first-child {
        margin-top: 0;
    }
    p:last-child {
        margin-bottom: 0;
    }

    // Header
    // =====
    > .header {
        font-size: 1.25rem;
        padding: 0 @h-padding 0.5em @h-padding;
        margin: 0 -@h-padding 0.5em -@h-padding;
    }


    // Footer
    // =====
    > .footer {
        text-align: right;
        margin: @v-padding -@h-padding -@v-padding -@h-padding;
        padding: @v-padding @h-padding;
        background: #F6F6F6;
    }

    // Hacking side border position
    // ====
    &:not(.filled) {
        border-left: none;

        &.up {
            border-top-width: 0;
            border-left: 1px solid @border-color;
        }
        &.down {
            border-bottom-width: 0;
            border-left: 1px solid @border-color;
        }
        &.right {
            border-right-width: 0;
            border-left: 1px solid @border-color;
        }
    }
}


/**
 * Coloring support
 * --------------------------------------------------------------------------- */

// Coloring ruleset
// ====
@callout-coloring-ruleset: {
    // Regular style
    // =====
    &:not(.filled) {
        &:after {
            background: @color;
        }
    }

    // Filled style
    // =====
    &.filled {
        background-color: @color;
        border-color: darken(@color, 5);
        &, &:before, a, button {
            color: @text;
        }

        & when (@lightOnDark = true) {
            text-shadow: 0 1px 1px darken(@color, 15);
        }

        > .footer {
            background-color: darken(@color, 3);
        }
    }
};

// Default coloring
// =====
.lui.callout {
    // Default
    @color: @fill-bg;
    @text: @fill-txt;
    @lightOnDark: false;

    @callout-coloring-ruleset();
}

// Custom coloring support
// ====
.lui.callout {
    // Define ruleset to be used
    .lui_supports_coloring(@callout-coloring-ruleset);
}


/**
 * Filled style
 * --------------------------------------------------------------------------- */

.lui.callout.filled {
    &:after {
        display: none;
    }
}


/**
 * Callouts
 * --------------------------------------------------------------------------- */
.lui.callouts {
    > .lui.callout {
        margin: 0;

        &:not(.filled):not(:first-child) {
            border-top: none;
        }
    }
}

/**
 * Sideborder
 * --------------------------------------------------------------------------- */

.lui.side-border {
    position: relative;
    box-sizing: border-box;
    &:after {
        visibility: visible !important; // neutralise possible clearfix
        position: absolute;
        z-index: 2;
        display: block;
        content: "";
    }

    // Position - defaults to left
    // =====
    &:after {
        top: 0; left: 0;
        width: @border-width;
        min-height: 100%;
    }

    &.up:after {
        top: 0; left: 0;
        width: 100%;
        min-height: @border-width;
    }
    &.right:after {
        top: 0; left: auto; right: 0;
        width: @border-width;
        min-height: 100%;
    }
    &.left:after {
        top: 0; left: 0;
        width: @border-width;
        min-height: 100%;
    }
    &.down:after {
        top: auto; bottom: 0; left: 0;
        width: 100%;
        min-height: @border-width;
    }
}


/**
 * Coloring support
 * --------------------------------------------------------------------------- */

 // Coloring ruleset
 // ====
 @sideborder-coloring-ruleset: {
    &:after {
        background: @color;
    }
 };

// Default coloring
// ====
.lui.side-border {
    @color: @default-coloring;
    @text: inherit;
    @lightOnDark: false;

    @sideborder-coloring-ruleset();
}

// Custom coloring support
// ====
.lui.side-border {
    .lui_supports_coloring(@sideborder-coloring-ruleset);
}
