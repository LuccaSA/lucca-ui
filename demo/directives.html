<div id="main-content">
	<nav id="toc" class="lui left stuck vertical primary dividing menu">
		<a class="item" href="#/directives#luid-timespan">luid-timespan</a>
		<a class="item" href="#/directives#luid-percentage">luid-percentage</a>
		<a class="item" href="#/directives#luid-moment">luid-moment</a>
		<a class="item" href="#/directives#luid-daterange">luid-daterange</a>
		<a class="item" href="#/directives#luid-keydown">luid-keydown</a>
        <a class="item" href="#/directives#luid-day-block">luid-day-block</a>
	</nav>
	</nav>

	<section class="lui typeset container">
		<div class="lui callout primary">
			<p>
				<b>Important:</b>
				The js part of lucca-ui is an angular framework so is obviously dependent on <code>angular</code>.
				It also uses <code>moment.js</code> for its manipulation of dates as <a class="lui fancy link" href="http://momentjs.com/">moment.js</a> is super awesome.
			</p>
			<p>
				The exact list of dependencies which can be found in the bower.json file is:
				<ul class="lui unstyled">
					<li><a class="lui fancy link" href="https://github.com/LuccaSA/lucca-icons">lucca-icons</a> <span class="lui label">1.1</span></li>
					<li><a class="lui fancy link" href="https://angularjs.org/">angular</a> <span class="lui label">1.4</span></li>
					<li><a class="lui fancy link" href="https://angular-ui.github.io/bootstrap/">angular ui bootstrap</a> <span class="lui label">0.13</span></li>
					<li><a class="lui fancy link" href="http://momentjs.com/">momentjs</a> <span class="lui label">2.10</span></li>
				</ul>
			</p>
		</div>

		<article id="luid-timespan">
			<h2 class="lui divider below">luid-timespan</h2>

		<p>
			An input that display and edit a timespan in a user friendly manner but has a model value more easily usable by the js code.
		</p>
		<div class="lui dashed divider">
			<h4 class="lui underline">Features</h4>
		</div>
		<p>
			It is editable using a regex as pattern recognition to know if the inputed text is parsable into some kind of duration. If the pattern is invalid the binded value will be set to <code>undefined</code>. This allows the luid-timespan to be compatible with <code>required</code> and <code>ng-required</code>.
		</p>
		<p>
			Upon pressing enter or losing focus of the input, it will format the input into a more readable form. For example you enter <code>140</code> and press enter, the text will change to <code>02h20</code>
		</p>
		<p>
			Supports up and down key events and scroll event to increment/decrement the value the value.
		</p>
		<div class="lui dashed divider">
			<h4 class="lui underline">Supported arguments:</h4>
		</div>
		<p>
			<ul class="lui unstyled">
				<li><code>ng-model</code> : the variable to bind to</li>
				<li><code>ng-change</code> : events to launch when the value is updated</li>
				<li><code>ng-disabled</code> : enable or disable the input</li>
				<li><code>unit</code> : 'hour' or 'minute', tells the directive that typing 10 in the input means 10 minutes or 10 hours. The default is 'minute'</li>
				<li><code>step</code> : when scrolling or pressing the up/down key, how many minutes you want to be added. The default is 5.</li>
				<li><code>placeholder</code> : placeholder to display when the input is empty.</li>
				<li><code>mode</code> : to tell if you want the directive to give you a timespan or a <a href="http://momentjs.com/docs/#/durations/" class="lui fancy link">moment.duration</a>. Supported values: <code>timespan</code> (default) and <code>moment.duration</code></li>
			</ul>
		</p>
		<div class="lui dashed divider">
			<h4 class="lui underline">Usage</h4>
		</div>
		<p>
			<pre hljs no-escape language="html">&lt;luid-timespan ng-model="myValue"&gt;&lt;/luid-timespan&gt;</pre>
		</p>
			<div class="lui bottom dashed divider menu" id="demoBlock">
			<div class="lui header vertical menu">
				<h4 class="lui underline">Demo</h4>
				</div>
				<div class="lui right item">
					<a class="lui button primary" href="http://plnkr.co/edit/WXRZpjrtrErekQFV4Oyx?p=preview">
						<i class="lui icon edit"></i>Edit in Plunker
					</a>
				</div>
		</div>
		<div ng-controller="timespanCtrl" class="lui block round">
			<form name="myForm">
				<p>
					myValue in luid-timespan (required) :
					<luid-timespan name="myTimespan" ng-model="myTimespan" ng-change="hasChanged()" placeholder="--m" required></luid-timespan>
					<span class="lui label red" ng-show="myForm.myTimespan.$error.required">the value is required</span>
				</p>
				<p>
					myValue as it is in $scope :
					<span class="lui input">
						<input name="myTextInput" type="text" ng-model="myTimespan">
					</span>
				</p>
				<p>
					Number of time ng-change on the luid-timespan has been called : <code>{{updateCnt}}</code>
				</p>
				<hr>
				<p>
					With <code>mode="moment.duration"</code>
				</p>
				<p>
					<luid-timespan ng-model="myDuration" mode="moment.duration"></luid-timespan>
				</p>
				<p>
					myDuration in the $scope : {{myDuration}} and with a <a href="#/filters#luifDuration" class="lui fancy link">luifDuration</a> filter : {{myDuration | luifDuration}}
				</p>
				<hr>
				<p>
					myValue2 bounded between "10m" and "11h" :
					<luid-timespan ng-model="myTimespan2" placeholder="--m" min="min" max="max"></luid-timespan>
				</p>
				<p>
					myValue2 as it is in $scope :
					<span class="lui input">
						<input type="text" ng-model="myTimespan2">
					</span>
				</p>
			</form>
		</div>
	</article>

	<article id="luid-percentage">
		<h2 class="lui divider below">luid-percentage</h2>

		<p>
			An input that display and edit a percentage in a user friendly manner but has a model value more easily usable by the js code and support different formats.
		</p>
		<div class="lui dashed divider">
			<h4 class="lui underline">Features</h4>
		</div>
		<p>
			It is editable using a regex as pattern recognition to know if the inputed text is parsable into some kind of float. If the pattern is invalid the binded value will be set to <code>undefined</code>. This allows the luid-percentage to be compatible with <code>required</code> and <code>ng-required</code>.
		</p>
		<p>
			Upon pressing enter or losing focus of the input, it will format the input into a more readable form. For example you enter <code>10.00</code> and press enter, the text will change to <code>10</code>
		</p>
		<p>
			Supports up and down key events and scroll event to increment/decrement the value.
		</p>
		<p>
			Supports 3 formats :
			<ul class="lui unstyled">
				<li><code>0.XX</code> default format. 10% in the input will be translated to 0.1 in the scope</li>
				<li><code>XX</code> 10% in the input will be translated to 10 in the scope</li>
				<li><code>1.XX</code> 10% in the input will be translated to 1.1 in the scope, use this format if you want to directly use the value as multiplicative coefficient</li>
			</ul>
		</p>
		<div class="lui dashed divider">
			<h4 class="lui underline">Supported arguments</h4>
		</div>
		<p>
			<ul class="lui unstyled">
				<li><code>ng-model</code> : the variable to bind to</li>
				<li><code>ng-change</code> : events to launch when the value is updated</li>
				<li><code>ng-disabled</code> : enable or disable the input </li>
				<li><code>format</code> : "0.XX", "XX" or "1.XX". The default is "0.XX", see above</li>
					<li><code>step</code> : when scrolling or pressing the up/down key, how many percents you want to be added. The default is 5</li>
					<li><code>placeholder</code> : placeholder to display when the input is empty</li>
				</ul>
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Usage:</h4>
			</div>
			<p>
				<pre hljs no-escape language="html">&lt;luid-percentage ng-model="myValue"&gt;&lt;/luid-percentage&gt;
&lt;luid-percentage ng-model="myValue" format="XX" step=25&gt;&lt;/luid-percentage&gt;</pre>
			</p>
			<div class="lui bottom dashed divider menu" id="demoBlock">
				<div class="lui header vertical menu">
					<h4 class="lui underline">Demo</h4>
				</div>
				<div class="lui right item">
					<a class="lui button primary" href="http://plnkr.co/edit/iTiGgz8E7uFezvoPPMa6?p=preview">
						<i class="lui icon edit"></i>Edit in Plunker
					</a>
				</div>
			</div>
			<div ng-controller="percentageCtrl" class="lui block round">
				<form name="myForm">
					<p>
						myValue in luid-percentage :
						<luid-percentage name="myTimespan" ng-model="myValue" ng-change="hasChanged()"></luid-percentage>
					</p>
					<p>
						myValue as it is in $scope :
						<span class="lui input">
							<input name="myTextInput" type="text" ng-model="myValue">
						</span>
					</p>
					<p>
						Number of time ng-change on the luid-timespan has been called : <code>{{updateCnt}}</code>
					</p>
					<hr>
					<p>
						myPrice :
						<span class="lui short input with addon">
							<span class="lui addon">$</span>
							<input type="number" ng-model="myPrice">
						</span>
						increased by myCoeff : <luid-percentage name="myTimespan" ng-model="myCoeff" format="1.XX" step=10></luid-percentage>
					</p>
					<p>
						<span ng-non-bindable>{{ myCoeff * myPrice | currency }}</span> = <code>{{ myCoeff * myPrice | currency}}</code>, made using format="1.XX"
					</p>
				</form>
			</div>
		</article>

		<article id="luid-moment">
			<h2 class="lui divider below">luid-moment</h2>

			<p>
				An input that display and edit a time, as the <a class="lui fancy link" href="https://angular-ui.github.io/bootstrap/#/timepicker">timepicker</a> from angular ui bootstrap but plugged to a moment or a string.
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Features</h4>
			</div>
			<p>
				Supports min/max, binded to the $scope. If your min or max changes, the input is notified and will work accordingly. Feature not present for the <a class="lui fancy link" href="https://angular-ui.github.io/bootstrap/#/timepicker">ui bootstrap timepicker</a> as of version 0.13.4.
			</p>
			<p>
				Supports the change of day, meaning you can set the min to today 8AM and max to tomorrow 2 AM and the input will accept any time from 08:00 to 02:00.
			</p>
			<p>
				Supports up and down key events and scroll event to increment/decrement the value.
			</p>
			<p>
				Supports an <code>format</code> argument if you don't want to bind to a moment but to a string.
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Supported arguments</h4>
			</div>
			<p>
				<ul class="lui unstyled">
					<li><code>ng-model</code> : the variable to bind to</li>
					<li><code>ng-change</code> : events to launch when the value is updated</li>
					<li><code>ng-disabled</code> : to enable or disable the input</li>
					<li><code>format</code> : "'HH:mm:ss'" for example, if your value is a string and you still want to use the component</li>
				</ul>
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Usage</h4>
			</div>
			<p>
				<pre hljs no-escape language="html">&lt;luid-moment ng-model="myValue"&gt;&lt;/luid-moment&gt;
&lt;luid-moment ng-model="myValue" format="'HH:mm:ss'"&gt;&lt;/luid-moment&gt;</pre>
			</p>
			<div class="lui bottom dashed divider menu" id="demoBlock">
				<div class="lui header vertical menu">
					<h4 class="lui underline">Demo</h4>
				</div>
				<div class="lui right item">
					<a class="lui button primary" href="http://plnkr.co/edit/o5VXhiOwSuQumJj3EuJU?p=preview">
						<i class="lui icon edit"></i>Edit in Plunker
					</a>
				</div>
			</div>
			<div ng-controller="momentCtrl" class="lui block round">
				<form name="myForm">
					<p>
						myValue in luid-moment :
						<luid-moment ng-model="myValue" ng-change="hasChanged()"></luid-moment>
					</p>
					<p>
						myValue as it is in $scope :
						<span class="lui long input">
							<input name="myTextInput" type="text" ng-model="myValue" readonly="readonly">
						</span>
					</p>
					<p>
						Number of time ng-change on the luid-moment has been called : <code>{{updateCnt}}</code>
					</p>
					<hr>
					<p>
						myStr in luid-moment with format="'HH:mm:ss'" :
						<luid-moment ng-model="myStr" format="'HH:mm:ss'"></luid-moment>
					</p>
					<p>
						myStr as it is in $scope:
						<span class="lui input">
							<input type="text" ng-model="myStr">
						</span>
					</p>
					<hr>
					<p>
						myValue2 bounded between "08:00" and "22:00" :
						<luid-moment ng-model="myValue2" min="'08:00:00'" max="'22:00:00'"></luid-moment>
					</p>
					<p>
						myValue2 as it is in $scope :
						<span class="lui long input">
							<input type="text" ng-model="myValue2" readonly="readonly">
						</span>
					</p>
					<hr>
					<p>
						myValue3 bounded between $scope.min (today 8 AM) and $scope.max (tomorrow 2 AM) :
						<luid-moment ng-model="myValue3" min="min" max="max"></luid-moment>
					</p>
					<p>
						myValue2 as it is in $scope :
						<span class="lui long input">
							<input type="text" ng-model="myValue3" readonly="readonly">
						</span>
					</p>
				</form>
			</div>
		</article>

		<article id="luid-daterange">
			<h2 class="lui divider below">luid-daterange</h2>
			<p>
				An input allowing to chose a date range.
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Features</h4>
			</div>
			<p>
				Uses the <a class="lui fancy link" href="#filters#luifFrindlyRange">luifFriendlyRange</a> filter to display the information.
			</p>
			<p>
				Can be mapped to js Dates, moments or a string with a specified format.
			</p>
			<p>
				The range September 1st to 30th can be seen as "Sep 1st to 30th included" or "Sep 1st to Oct 1st excluded". This input allows you to specify if the end is excluded, the user will choose Sep 1st to 30th" but in your scope you will have "Sep 1st to Oct 1st".
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Supported arguments:</h4>
			</div>
			<p>
				<ul class="lui unstyled">
					<li><code>ng-model</code> : the variable to bind to</li>
					<li><code>format</code> : allows you to specify if you want to bind to a a date, a moment or a string. supported values: <code>moment</code>(default), <code>date</code>, any valid <a class="lui fancy link" href="http://momentjs.com/docs/#/parsing/string-format/">momentjs format</a></li>
					<li><code>start-property</code> : the property to bind the start of the range to, default <code>startsOn</code></li>
					<li><code>end-property</code> : the property to bind the end of the range to, default <code>endsOn</code></li>
					<li><code>exclude-end</code> : if you want the end of the range in your scope to be excluded, default <code>false</code></li>
					<li><code>popover-placement</code> : the position of the popover with both datepickers in it. Supported values: <code>top</code>(default), <code>bottom</code>, <code>left</code>, <code>right</code></li>
					<li><code>periods</code> : a list of preset dateranges, must look like this <code>[{label:"this month", startsOn: #anything parsable by moment#, endsOn: #same as startsOn#}, {...}]</code>. <b>Remark: </b> when you use both <code>periods</code> and <code>exclude-end</code>, the end of the periods is excluded</li>
					<li><code>close-label</code> : the label you want for "Ok".
					<li><code>close-action</code> : an action that will be called when the user closes the popover by clicking on the close button.

				</ul>
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Usage</h4>
			</div>
			<p>
				<pre hljs no-escape language="html">&lt;luid-daterange ng-model="myRange" class="lui long input"&gt;&lt;/luid-daterange&gt;
&lt;luid-daterange ng-model="myRange" class="lui long input" data-periods="myPeriods"&gt;&lt;/luid-daterange&gt;
&lt;luid-daterange ng-model="myRange" format="date" start-property="start" end-property="end" exclude-end="true" class="lui long input"&gt;&lt;/luid-daterange&gt;</pre>
			</p>
			<div class="lui bottom dashed divider menu" id="demoBlock">
				<div class="lui header vertical menu">
					<h4 class="lui underline">Demo</h4>
				</div>
			</div>
			<div ng-controller="daterangeCtrl" class="lui block round">
				<p>
					Basic usage, binded to moments, end is included, nothing fancy.
				</p>
				<luid-daterange ng-model="myPeriod" class="lui long input" ng-change="hasChanged()"></luid-daterange>
				<p>Start : {{myPeriod.startsOn | luifMoment}} - End : {{myPeriod.endsOn | luifMoment}}</p>
				<p>Number of time ng-change on the luid-daterange has been called: <code>{{updateCnt}}</code></p>
				<hr>
				<p>
					Binded to dates, end excluded
				</p>
				<p>
				<luid-daterange ng-model="myPeriod" class="lui long input" start-property="dateStart" end-property="dateEnd" format="date" exclude-end="true"></luid-daterange>
				</p>
				<p>
					Start : 
					<span class="lui input datepicker">
						<input type="text" datepicker-popup="yyyy-MM-dd" ng-model="myPeriod.dateStart" is-open="start.opened" close-text="Close" ng-click="start.opened=true"/>
					</span>
					End : 
					<span class="lui input datepicker">
						<input type="text" datepicker-popup="yyyy-MM-dd" ng-model="myPeriod.dateEnd" is-open="end.opened" close-text="Close" ng-click="end.opened=true"/>
					</span>
				</p>
				<hr>
				<p>
					Binded to strings with format <code>YYYY/MM/DD</code>, with custom periods and a custom close label and action
				</p>
				<p>
					<luid-daterange ng-model="myPeriod" class="lui long input" 
					start-property="stringStart" end-property="stringEnd" 
					format="YYYY/MM/DD" 
					data-periods="myPeriods"
					close-label="clicking here calls window.alert(myPeriod.start) and closes the popover"
					close-action="doAlert()"></luid-daterange>
				</p>
				<p>Start : {{myPeriod.stringStart}} - End : {{myPeriod.stringEnd}}</p>
			</div>
		</article>

		<article id="luid-keydown">
			<h2 class="lui divider below">luid-keydown</h2>
			<p>
				An attribute directive to listen to keydown events
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Features</h4>
			</div>
			<p>
				An easy synthax to bind yourself to the keydown event.
			</p>
			<p>
				Use <a class="lui fancy link" href="http://keycode.info/">this page</a> to know the correspondance between key and code.
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Supported arguments</h4>
			</div>
			<p>
				<ul class="lui unstyled">
					<li><code>mappings</code> : the functions to call when the keys are pressed, see usage section for synthax</li>
				</ul>
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Usage</h4>
			</div>
			<p>
				<pre hljs no-escape language="html">&lt;input ng-model="myValue" class="lui input" luid-keydown mappings="myMappings"&gt;</pre>
				<pre hljs no-escape language="js">var enterPressed = function(){ ... };
var escPressed = function(){ ... };
$scope.myMappings = { 13: enterPressed, 27: escPressed, keyCode: fun };</pre>
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Remarks</h4>
			</div>
			<p>
				If in the function called you change a variable in the <code>$scope</code>, you <b>have to</b> call <code>$scope.$apply();</code> yourself for this modification to take effect.
			</p>
			<p>
			<pre hljs no-escape language="js">$scope.enterCnt = 0;
var enterPressed = function(){ 
	$scope.enterCnt++; 
	$scope.$apply(); 
};
$scope.myMappings = { 13: enterPressed };</pre>
			</p>

			<div class="lui bottom dashed divider menu" id="demoBlock">
				<div class="lui header vertical menu">
					<h4 class="lui underline">Demo</h4>
				</div>
			</div>
			<div ng-controller="keydownCtrl" class="lui block round">
			<p>
				Will count the number of times keys <code>enter</code>, <code>esc</code> and the letter <code>z</code> are pressed, will also listen to arrow keys and append an array. 
			</p>
			<p>
				<span class="lui input">
					<input luid-keydown data-mappings="myMappings" placeholder="Type here">
				</span>
			</p>
			<p>
				<ul class="lui unstyled">
					<li><code>{{enterCnt}}</code> keydown of key <code>enter</code></li>
					<li><code>{{escCnt}}</code> keydown of key <code>esc</code></li>
					<li><code>{{zCnt}}</code> keydown of key <code>z</code></li>
					<li>Arrows sequence: <code>{{arrows.join(" ")}}</code></li>
				</ul>
			</p>
			</div>
		</article>
        
        <article id="luid-day-block">
            <h2 class="lui divider below">luid-day-block</h2>
			<p>
				An element directive to to draw a day block calendar.
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Supported arguments</h4>
			</div>
			<p>
				<ul class="lui unstyled">
					<li><code>show-day</code> : this argument must be a boolean, if true the directive shows the name of the day on top.</li>
                    <li><code>first-color</code> : this color is used to fill the day number background. </li>
                    <li><code>second-color</code> : this color is used to fill the month and year background.</li>
				    <li><code>date</code> : this argument must be a moment. </li>
				
                </ul>
			</p>
			<div class="lui dashed divider">
				<h4 class="lui underline">Usage</h4>
			</div>
			<p>
				<pre hljs no-escape language="html">
&lt;input type="text" ng-model="firstColor"&gt;
&lt;input type="text" ng-model="secondColor"&gt;
&lt;input type="checkbox" ng-model = "showDay"&gt; show day 
&lt;span class="lui input datepicker"&gt;
    &lt;input type="text" 
        datepicker-popup="yyyy-MM-dd" 
        ng-model="date" 
        is-open="opened"
        close-text="Close" 
        ng-click="opened=true"
    /&gt;
&lt;/span&gt;


&lt;luid-day-block 
    show-day = "showDay" 
    first-color = "firstColor" 
    second-color = "secondColor" 
    date = "date" 
/&gt;  

                
                </pre>
			</p>
			<div class="lui bottom dashed divider menu" id="demoBlock">
				<div class="lui header vertical menu">
					<h4 class="lui underline">Demo</h4>
				</div>
			</div>
			<div ng-controller="dayBlockCtrl" class="lui block round">
                <p>
                    date: <span class="lui input datepicker">
                        <input type="text" datepicker-popup="yyyy-MM-dd" ng-model="date" is-open="opened" close-text="Close" ng-click="opened=true"/>
                    </span>
                </p>
                <p>
                    first color: 
                    <span class="lui short input with addon">
                        <input type="text" ng-model="firstColor" class="ng-pristine ng-valid ng-touched">
                    </span>
                </p>
                <p>
                    second color: 
                    <span class="lui short input with addon">
                        <input type="text" ng-model="secondColor" class="ng-pristine ng-valid ng-touched">
                    </span>
                </p>
                <p>
                    <input type="checkbox" ng-model = "showDay"> show day 
                </p>
                 <luid-day-block
                 show-day = "showDay"
                 first-color = "firstColor"
                 second-color = "secondColor"
                 date = "date"/>
			</div>
            
        </article>
	</section>
</div>
