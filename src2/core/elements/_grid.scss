
// Common classes
// ===================================

body, html { width: 100%; height: 100%; }
.lui.clear {
	zoom:1; /* For IE 6/7 (trigger hasLayout) */

	&:before,
	&:after { content: ""; display: table; }
	&:after { clear:both; }
}
.lui [class*="left pulled"] { float: left; }
.lui [class*="right pulled"] { float: right; }


// Elements
// ===================================

.lui.container {
	padding: 0;
	width: $container-width;
	@extend .lui.clear;
}
.lui.container .lui.column, {
	float: left;
	box-sizing: border-box;
	width: 100%;
}
.lui.container .lui.column[class*="-pull-"],
.lui.container .lui.column[class*="-push-"] { position: relative; }

// Bootstrap '.row' equivalent
.lui.container .lui.columns { @extend .lui.clear; }


// Grid styles
// ===================================

// Fitting container
// Takes up the whole available width
.lui.fitting.container { margin-left: 0; margin-right: 0; }

// Spaced container
// Adds gutter
.lui.container.spaced .lui.column,
.lui.container .lui.column.spaced { padding: 0 $gutter; }

.lui.container.spaced .columns { margin: 0 -$gutter; }


// The Loop(s)
// ===================================

@mixin lui_loop_columns($device, $spacing) {
	@for $i from 0 through $columns {
		@if $i > 0 {
			.lui.container .lui.column.#{$device}-#{$i} { width: $column * $i; }
		}
		// Offset
		.lui.container .lui.column.#{$device}-offset-#{$i} { margin-left: $column * $i; }
		// Reordering: Pulling
		.lui.container .lui.column.#{$device}-pull-#{$i} { left: -$column * $i; }
		// Reordering: Pushing
		.lui.container .lui.column.#{$device}-push-#{$i} { left: $column * $i; }
	}
}

@each $device, $props in $lui_breakpoints {
	$i: index($device, $lui_breakpoints);
	$breakAt: nth($props, 1);
	$spacing: nth($props, 2);

	@if $i == 1 { // Mobile first
		// Container
		.lui.container { margin: 0 $spacing; }
		// Hide / Show
		.#{$device}-hide { display: none !important; }
		.#{$device}-show { display: block !important; }
		@include lui_loop_columns($device, $spacing);

	} @else {
		@at-root {
			@media (min-width: $breakAt) {
				#{$namespace} {
					// Container
					.lui.container { margin: 0  $spacing; }
					// Hide / Show
					.#{$device}-hide { display: none !important; }
					.#{$device}-show { display: block !important; }

					@include lui_loop_columns($device, $spacing);
				}
			}
		}
	}
}
