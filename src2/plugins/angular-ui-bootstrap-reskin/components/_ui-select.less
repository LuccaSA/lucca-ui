
/**
 * UI select
 * --------------------------------------------------------------------------- */

.lui.nguibs-ui-select {
	&:extend(.lui.input all);
	min-width: @ui-select-min-width;

	// Displays the arrow icon
	// =====
	.lui_make_icon(south arrow);
	&:before { font-size: (0.6 * @lui_default_font_size); position: absolute; z-index: 4; right: @h-padding; top: 50%; transform: translateY(-50%); .ie9 & { margin-top: -0.5em; } }


	.btn, .ui-select-choices { box-sizing: border-box; }
	> .ui-select-match { width: 100%; }

	// IE9 fix
	overflow: visible !important;

	// Input fields lookalikes
	// =====
	.ui-select-match { height: 2.32em; }
	.ui-select-match > .btn,
	> .ui-select-search,
	&.ui-select-multiple > div { &:extend(.lui.input > input all); .ie9 & { width: 100%; } }

	// Dropdown list styling
	// =====
	.ui-select-choices {
		visibility: hidden;

		&:extend(ul.lui.unstyled);
		position: absolute; z-index: 1000;
		top: 100%; left: 0;
		width: 100%;

		border: 1px solid @focus-border-color;
		border-top: none;
		background-color: @bg;

		box-shadow: @shadow;

		max-height: @ui-select-max-height;
		overflow-x: hidden;

		-webkit-backface-visibility: hidden; /* Chrome, Safari, Opera */
		backface-visibility: hidden;

		.ie9 & { box-sizing: content-box; }
	}
	.ui-select-choices .active a,
	.ui-select-choices a:hover { background: #EEE; }
	.ui-select-choices a {
		text-decoration: none;
		display: block;
		padding: 0.5em @h-padding;
		border-top: 1px solid #EEE;

		> span { vertical-align: middle; }
	}

	&:not(.ui-select-multiple) .ui-select-search { display: none; }

	// dividers
	.divider { &:extend(.lui.divider all); margin: 0.5em 0; }
	.dropdown-header {
		padding: 0.5em 1em;
		font-size: 1.1em;
		font-weight: 600;
		&:empty { padding-top: 0; padding-bottom: 0; }
	}

	// Multiselect mode
	// =====
	&.ui-select-multiple {
		> div { padding: 0 @v-padding !important; height: auto !important; }

		input { background: transparent; border: none; &:focus { outline: none; outline: 0; }}

		.ui-select-match { display: inline-block; line-height: 1; }

		.ui-select-match-item {
			display: inline-block;
			vertical-align: middle;
			font-size: 0.9em;
			margin: 0 0.1em;
			padding: 0.1em 0.5em;
			border: 1px solid @border-color;
			border-radius: @border-radius;

			background-color: @bg;

			.lui_is_animated("down scale in");

			> span > span { line-height: @ui-select-multiple-close-size; }

			// active state ~ selected
			&.btn-primary { background-color: #EEE; }

			// Close button
			.ui-select-match-close {
				float: right;
				font-size: @ui-select-multiple-close-size;
				font-weight: 600;
			}
		}
		.ui-select-match-item:focus { outline: none; outline: 0; }
	}

	// Dropped state
	// =====
	&.open {
		box-shadow: @shadow;
		&:not(.ui-select-multiple) .ui-select-match { display: none; }
		&:not(.ui-select-multiple) .ui-select-search { display: block; }

		.ui-select-match > .btn,
		> .ui-select-search,
		&.ui-select-multiple > div { z-index: 100; }

		> .ui-select-search,
		&.ui-select-multiple > div {
			border-color: @focus-border-color;
			border-bottom-color: transparent !important;
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		.ui-select-choices {
			visibility: visible;

			.lui_is_animated("up slide in");

			.ie9 & {
				display: block;
				opacity: 1;
				height: auto;
			}
		}
	}

	// Thumbnail support
	// =====
	.ui-select-choices-row .thumbnail {
		width: @ui-select-thumb-size;
		height: @ui-select-thumb-size;
		vertical-align: middle;
		margin-right: 0.5em;
	}

	// Highlighting support
	// =====
	.ui-select-highlight { font-weight: 600; background-color: rgba(50, 50, 50, 0.1);}

	.ui-select-offscreen { clip: rect(0 0 0 0); width: 1px; height: 1px; border: 0; margin: 0; padding: 0; overflow: hidden; position: absolute; outline: 0; left: 0; top: 0; }
}

// Coloring support
// =====
.lui.nguibs-ui-select {
	.lui_supports_coloring({
		.active a,
		a:hover { background: @coloring-color; border-color: @coloring-color; color: @coloring-text; }
	});
}
